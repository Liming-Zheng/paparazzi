<!DOCTYPE module SYSTEM "module.dtd">

<module name="servo_switch">
  <doc>
    <description>Servo switch</description>
    <define name="SERVO_SWITCH_ON_VALUE"  value="pwm" description="servo value in usec"/>
    <define name="SERVO_SWITCH_OFF_VALUE" value="pwm" description="servo value in usec"/>
    <define name="SERVO_SWITCH_SERVO"     value="nb" description="Id of the switch command (default: COMMAND_SWITCH)"/>
  </doc>
  <header>
    <file name="servo_switch.h"/>
  </header>
  <init fun="servo_switch_init()"/>
  <periodic fun="servo_switch_periodic()" freq="10."/>
  <makefile target="ap|sim|jsbsim">

<!-- these parameters should be set for that module in the airframe file unless you want the defaults
     Servo value in usec
  <load name="servo_switch.xml">
    <define name="SERVO_SWITCH_ON_VALUE"  value="MAX_PPRZ"/>
    <define name="SERVO_SWITCH_OFF_VALUE" value="-MAX_PPRZ"/>
    <define name="SERVO_SWITCH_SERVO"     value="COMMAND_SWITCH"/>
  </load>
  
  The SWITCH servo, the SWITCH command and the command_law (usually <set servo="SWITCH" value="@SWITCH"/>
  must be defined correctly
  The min and max positions of the servo are defined in the servo section
-->

    <file name="servo_switch.c"/>
  </makefile>
</module>

